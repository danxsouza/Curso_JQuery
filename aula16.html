<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Entendendo o JQuery</title>
    <script src="js/jquery-3.1.1.min.js" type="text/javascript"></script>
    <style type="text/css">
        .test{
            border: 2px solid blue; padding: 5px;
        }
    </style>
    <script type="text/javascript">
        $(document).ready(function() {
            $(':button').click(function () {

                if($('p')parent().is('div')){
                    $('p').unwrap($('div'));
                } else {
                    $('p').wrap("<div class='test'></div>");
                }
               //$('div').wrap("<div class='test'></div>");
               //$('div').remove();

          });
        });
    </script>
</head>
<br>
<span> Danilo Souza</span>

    <div id="div1" class="test">
        <p id="paragrafo1">
            <span>Teste</span>
        </p>
        <p id="paragrafo2">Teste 1</p>
        <p id="paragrafo2">Teste 2</p>
    </div>


  <input type="button" value="Append">
</body>
<html>